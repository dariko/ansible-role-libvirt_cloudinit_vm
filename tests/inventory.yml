lbr_vms:
    hosts:
        debian10:
            ansible_host: 192.168.100.3
            drive_source: /opt/debian-10-openstack-amd64.qcow2
            vm_vnc_port: -1
    vars:
        vm_networks:
        -   type: bridge
            parent: br-test
            address: "{{ansible_host}}/24"

ovs_vms:
    hosts:
        ubuntu1804:
            ansible_host: 192.168.101.3
            drive_source: /opt/bionic-server-cloudimg-amd64.img
    vars:
        vm_networks:
        -   type: openvswitch
            parent: ovs-test
            address: "{{ansible_host}}/24"
    
vms:
    children:
        lbr_vms:
        ovs_vms:
    vars:
        vm_drives:
        -   type: file
            source: "{{drive_source}}"
            size_gb: 8
        vm_host: localhost
        vm_emulator_path: /usr/bin/qemu-system-x86_64
        vm_domain_type: qemu
        vm_wait_for_tcp22_timeout: 1200

all:
    hosts:
        localhost:
            ansible_connection: local
            ansible_become: true
